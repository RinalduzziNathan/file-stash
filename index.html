<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rive Files</title>
    <style>
        a {
            color: white;
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        body {
            margin: 0;
            background-image:
                linear-gradient(#e0e0e0 1px, transparent 1px),
                linear-gradient(90deg, #e0e0e0 1px, transparent 1px);
            background-size: 10px 10px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f0f0f0;
            font-family: Arial, sans-serif;
        }

        .center-box {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 200px;
            height: 200px;
            background-color: black;
            color: white;
            font-size: 20px;
            text-align: center;
            border-radius: 10px;
        }

        .file-list {
            margin-top: 20px;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
        }

        .file-item {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 150px;
            height: 50px;
            background-color: black;
            color: white;
            font-size: 14px;
            text-align: center;
            border-radius: 5px;
            cursor: pointer;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s ease, transform 0.5s ease;
        }

        .file-item.show {
            opacity: 1;
            transform: translateY(0);
        }
    </style>

    <script>
        // Création dynamique de la balise <script> avec cache-buster
        const cacheBuster = Date.now();
        const riveScript = document.createElement('script');
        riveScript.src = `files.js?t=${cacheBuster}`;
        document.head.appendChild(riveScript);

        // Quand files.js est chargé, on appelle initFileList()
        riveScript.onload = initFileList;

        // Fonction d'initialisation de l'affichage
        function initFileList() {
            const fileListDiv = document.createElement('div');
            fileListDiv.className = 'file-list';
            document.body.appendChild(fileListDiv);

            riveFiles.forEach((file, index) => {
                // Crée un lien <a> qui déclenche le téléchargement
                const link = document.createElement('a');
                link.href = `rive/${file}`;
                link.download = file;

                const item = document.createElement('div');
                item.className = 'file-item';
                item.textContent = file;

                link.appendChild(item);
                fileListDiv.appendChild(link);

                // Animation en cascade
                setTimeout(() => {
                    item.classList.add('show');
                }, index * 100);
            });
        }

    </script>
</head>

<div class="center-box">
    <div style="font-size: 28px; font-weight: bold; margin-bottom: 10px;">File Stash</div>

</div>


</html>